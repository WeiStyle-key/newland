function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var chlenruslana=1;define(["page","dom"],(function(e,t){var a=(function(){function a(){_classCallCheck(this,a)}return a.select=function(){this.header=Q("#header")[0],this.removeDialog=Q(".remove-dialog",this.header)[0],this.chatUser=Q(".chat-user",this.header)[0],this.filtersButton=Q(".activity-filters",this.header)[0]},a.setTitle=function(t){t&&(this.page=new e,this.page.updateHeaderTitle(t))},a.update=function(e){var t=window.location.pathname;this.select(),this.removeDialog&&(this.removeDialog.style.display="none","/messages"===t?(this.removeDialog.style.display="block",this.removeDialog.innerHTML=App.context.translates.ChangeText):this.removeDialog.style.display="none"),this.chatUser&&(this.chatUser.style.display="none",t.indexOf("/thread")>=0?this.chatUser.style.display="inline-block":this.chatUser.style.display="none");var i=Q("#header .title-wrap")[0];i&&(i.style.display="block"),"/"!==t&&t.indexOf("thread")<0&&a.setTitle(e)},a.previousPage=function(){this.select();var e=Q("[data-prev-page]")[0],t=Q(".arrow_back")[0];e&&t?(window.history&&history.PREV_URL&&history.PREV_URL.indexOf(location.hostname)>=0?t.href=history.PREV_URL:t.href=e.getAttribute("data-prev-page"),t.href.indexOf("javascript")>=0&&(t.onclick=null),t.style.display="inline-block",t.setAttribute("data-cache",!1)):t&&(t.removeAttribute("href"),t.removeAttribute("data-cache"),t.style.display="none")},a.hideByScroll=function(){var e=window,t=["smartmobile_messages_index","smartmobile_feed_index","smartmobile_profile_activity_index"];if(App.firstInit&&e){var i;a.lastScrollTop=0,e.addEventListener("scroll",(function(){window.innerWidth>=900||t.indexOf(App.context.actionName)!==-1&&(i||(i=setTimeout((function(){i=null,a.hideOrShowHeader()}),0)))}))}},a.hideOrShowHeader=function(){var e=window,i=document.querySelector("#header"),s=getComputedStyle(i).height,r=t.classList(),o=e.pageYOffset,n=5;s=parseInt(s,10),Math.abs(a.lastScrollTop-o)<=n||(o>a.lastScrollTop&&o>s&&o>=5?r.add(i,"header-up"):r.remove(i,"header-up"),a.lastScrollTop=o)},a.resetHeaderByScoll=function(){var e=t.classList(),a=document.querySelector("#header");e.remove(a,"header-up")},a})();return window.Header=a,a}));
//# sourceMappingURL=header-611d362004.min.js.map
