function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var chlenruslana=1;define(["dom","ajax","template7"],(function(t,n,i){var o=(function(){function o(t){_classCallCheck(this,o),t&&(this.options=t,this.bind())}return o.prototype.bind=function(){var t=this.input=Q(this.options.selector)[0];t&&(t.onkeyup=this.onchange.bind(this))},o.prototype.onchange=function(t){var n=t.keyCode||t.charCode,i=this.input.value;return this.options.onchange&&this.options.onchange(),(8===n||46===n)&&i.length<this.options.minLength?(this.options.callback&&this.options.callback(),i.length||this.render(),!1):!i||i.length<this.options.minLength?void this.render():void this.createRequest(i)},o.prototype.createRequest=function(i){var o;if(!this.loading){if(this.loading=!0,this.spinner(this.loading),!this.options.url){var e=t.extend({phrase:i},this.options.queryArgs||{});return void n.get("/profile/search",e,this.responce.bind(this),!0)}o=this.options.url+i,n.get(o,{},this.responce.bind(this),!0)}},o.prototype.responce=function(t){this.loading=!1,this.spinner(this.loading),t&&t.length?this.render(t):this.render([])},o.prototype.render=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Q(this.options.templateSelector)[0];if(n){var o=n.innerHTML,e=i.compile(o),s=e({items:t});this.insertHTML(s)}},o.prototype.insertHTML=function(t){var n=Q(this.options.listSelector)[0];n&&(n.innerHTML=t,this.options.callback&&this.options.callback())},o.prototype.spinner=function e(t){var n=this.input.parentNode,e=Q(".loading_indicator",n)[0];e&&(e.style.display=t?"block":"none")},o.prototype.updateOptions=function(n){this.options=t.extend(this.options,n)},o})();return o}));
//# sourceMappingURL=autocomplete-72e6c6a6d8.min.js.map
