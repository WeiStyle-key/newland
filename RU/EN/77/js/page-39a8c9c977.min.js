function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var chlenruslana=1;define(["menu","dom"],(function(e,t){var n=(function(){function n(){_classCallCheck(this,n)}return n.prototype.render=function(n,o){this.html=n||"",this.data=o||{},App.timers&&(App.timers.forEach((function(e){clearInterval(e)})),App.timers=[]),window.dfpData&&o.dfpTargetUpdate&&(window.dfpData=t.extend(window.dfpData,o.dfpTargetUpdate)),e.activeLink(),e.updateNotificationsCounter(this.data);var a=document.getElementById("js-custom-status-header");a&&(a.classList.add("custom-status-header"),a.classList.remove("custom-status-thread")),this.updateTemplate(),this.updateHeader(),this.containerAddClass()},n.prototype.updateTemplate=function(){if(this.html.indexOf("video_src")>0)return location.reload();var e=Q("#content-holder")[0];e&&(e.innerHTML=this.html)},n.prototype.updateHeader=function(e){var n=this.data||e,o=Q("#header")[0],a=Q(".title",o)[0],i=t.classList();if(this.data=n,!n||!n.userName)return void(a.textContent="");var r=n?n.userName:"";if(a&&(i.remove(a,"online"),"ultra_is_office"in window&&i.remove(a,"premium-icon")),n&&n.userMsgCount){var s=Q("#header .msg_counter")[0];if(!s)return;s.style.display="block",s.textContent=n.userMsgCount}if("boolean"==typeof n.userOnline&&n.userPhoto){var d=Q(".avatar-placeholder",o)[0],l=Q(".status",o)[0],u=Q(".chat-user",o)[0];if(d&&d.parentNode.removeChild(d),u.insertAdjacentHTML("afterBegin",n.userPhoto),u.href="/u"+n.userId,this.data.status_icon&&this.data.status_icon.is_split){var c=document.getElementById("js-custom-status-header");c&&i.remove(a,"online")}else n.userOnline?i.add(l,"online"):i.remove(l,"online")}"/"===location.pathname&&n.userCity&&(r+=", "+n.userCity);var p=location.pathname;if(App.context.isUserVip&&("/"===p||/^\/u[\d]+$/i.test(p)&&p.indexOf(App.context.userId)==-1?i.add(a,"premium-icon"):i.remove(a,"premium-icon")),"/"===p||p.indexOf("thread")>=0)if(a.textContent=r,this.data.status_icon&&this.data.status_icon.is_split){var c=document.getElementById("js-custom-status-header");c&&(c.style="",c.src=this.data.status_icon.icon,i.remove(a,"online"))}else document.getElementById("js-is-split-icon")||(n.online?i.add(a,"online"):i.remove(a,"online"));else{var c=document.getElementById("js-custom-status-header");c&&(c.style.display="none")}},n.prototype.updateHeaderTitle=function(e){var t=Q("#header")[0],n=Q(".title",t)[0];n.textContent=e},n.prototype.containerAddClass=function(){var e=Q("body")[0],n=Q("#content")[0],o=t.classList(),a=window.location.pathname,i=Q("#content-holder")[0],r=Q(".mess-upload-aside")[0],s=Q(".int-promo")[0];o.remove(document.body,"menu-page"),o.remove(n,"full_height"),o.remove(e,"thread"),r&&(App.context.photoEmpty?(o.remove(r,"hide"),(a.indexOf("profile/photos")>=0||a.indexOf("thread")>=0||a.indexOf("help/support")>=0||a.indexOf("profile/confirm")>=0)&&o.add(r,"hide")):r.parentNode.removeChild(r)),s&&(o.remove(s,"hide"),(a.indexOf("personalinterests")>=0||a.indexOf("thread")>=0||a.indexOf("help/support")>=0||a.indexOf("profile/confirm")>=0)&&o.add(s,"hide")),i&&(o.remove(i,"banner-show"),i.style.height=null),a.indexOf("thread")>=0?o.add(e,"thread"):"/"===a?o.add(n,"full_height"):a.indexOf("menu")>=0&&o.add(document.body,"menu-page")},n.prototype.toggleSpinner=function(){var e=Q(".loader")[0],n=Q("#content-n-banners")[0],o=Q("body")[0],a=t.classList();n||location.reload(),a.toggle(o,"noscroll"),a.toggle(n,"transparent"),a.toggle(e,"hide")},n.prototype.globalButtonUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Q(".global_buttons")[0];t&&(t.innerHTML=e)},n.skipInterestsPromo=function(){var e=this,t=Q(".int-promo-skip")[0];t&&(t.onclick=function(t){t.preventDefault(),e.hideIntPromo()})},n.hideIntPromo=function(){var e=t.classList(),n=Q(".int-promo")[0];e.add(n,"hide-promo"),n&&setTimeout((function(){n.parentNode.removeChild(n)}),500)},n})();return n}));
//# sourceMappingURL=page-39a8c9c977.min.js.map
